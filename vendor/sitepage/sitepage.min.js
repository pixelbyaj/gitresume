/*!
 sitepage.js - v3.0.0
* https://github.com/pixelbyaj/SitePage
* @author Abhishek Joshi
* @license MIT*/
/*!
 * sitePage.js - v3.0.0
 * https://github.com/pixelbyaj/SitePage
 * @author Abhishek Joshi
 * @license MIT
 */
var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],o=0,l=r.length;o<l;o++,i++)a[i]=r[o];return a},SitePage=function(d,e){var t=this;this.api={gotoPage:function(e){},navigateToNextPage:function(){},navigateToPrevPage:function(){},getMenuItems:function(){return null},getActivePage:function(){return null}};var n,o,r,l="vertical",s=[],c=0,u=[],a=0,v=!0;if(!d)throw"Page element not found";var g=document,h=g.getElementById(d);if(!h)throw"Page element not found";var p="#ffffff",b={brandName:"",brandLogoUrl:"",backgroundColor:"#fc6c7c",anchors:!0,menuId:"sp-menu",verticalAlignMiddle:!0,sections:[],navigation:"vertical",hamburger:!0,autoScrolling:!0,keyboardNavigation:!0,scrollbar:!1,transitionSpeed:1e3,easing:"ease",sameurl:!0,pageTransitionStart:function(e,t){},pageTransitionEnd:function(e){}};e&&(b=__assign(__assign({},b),e));var f={setInitialStyle:function(){h.style.transform="translate3d(0px, 0px, 0px)",h.classList.add("sp-wrapper"),g.querySelector("body").style.backgroundColor=b.backgroundColor},setSectionClass:function(e){e.classList.add("sp-section")},setSectionHeight:function(e){e.style.height=window.innerHeight+"px"},setSectionHorizontal:function(e){e.style.width=100*u.length+"%",e.classList.add("sp-floatLeft"),e.querySelectorAll(".section").forEach(function(e){e.classList.add("sp-floatLeft"),e.style.width=100/u.length+"%"})},getCellElement:function(e,t){var n,a,i=g.createElement("div");return i.setAttribute("class","sp-cell"),b.verticalAlignMiddle&&(void 0!==t&&!t||(n=i.classList).add.apply(n,["align-middle","text-center"])),e&&(a=i.classList).add.apply(a,e),f.setSectionHeight(i),i},setBackgroundColor:function(e,t){e.style.backgroundColor=t},setBrandName:function(e,t,n){var a,i,r=g.createElement("span");return(a=r.classList).add.apply(a,e),t?i=g.createTextNode(t):(i=g.createElement("img")).setAttribute("src",n),r.appendChild(i),r},setNavigationLink:function(e,t,n){var a,i=g.createElement("li");i.classList.add("nav-item");var r=g.createElement("a");(a=r.classList).add.apply(a,e),r.removeEventListener("click",w.navigationClick),r.setAttribute("href","javascript:void(0)"),r.setAttribute("data-href",n),r.addEventListener("click",w.navigationClick);var o=g.createTextNode(t);return r.appendChild(o),i.appendChild(r),i},setHamburgerMenu:function(){var e,t,n,a=g.createElement("div");a.setAttribute("id",b.menuId),a.classList.add("sp-hb-menu-bar");var i=g.createElement("div");i.classList.add("sp-hb-menu");for(var r=1;r<=3;r++){var o=g.createElement("div");o.setAttribute("id","bar"+r),o.classList.add("bar"),b.hamburger?b.hamburger.lineColor?o.style.backgroundColor=b.hamburger.lineColor:o.style.backgroundColor=p:o.classList.add("bar-color"),i.appendChild(o)}a.appendChild(i);var l=g.createElement("ul");l.classList.add("sp-hb-nav"),a.appendChild(l);var s,c=g.createElement("div");return c.setAttribute("id","sp-hb-menu-bg"),c.classList.add("sp-hb-menu-bg"),c.style.height=window.innerHeight+"px",b.hamburger.backgroundColor&&(c.style.backgroundColor=b.hamburger.backgroundColor),a.appendChild(c),(0<(null===(e=b.brandName)||void 0===e?void 0:e.length)||0<(null===(t=b.brandLogoUrl)||void 0===t?void 0:t.length))&&(s=f.setBrandName(["sp-hb-navbar-brand"],b.brandName,b.brandLogoUrl),a.appendChild(s)),null!==(n=g.querySelector("body"))&&void 0!==n&&n.insertBefore(a,g.querySelector("#"+d)),i.addEventListener("click",w.onHamburgerMenuClick),l},setNavigationMenu:function(){var e,t,n,a,i,r,o=g.createElement("nav");(e=o.classList).add.apply(e,["navbar","fixed-top","navbar-expand","navbar-dark","flex-column","flex-md-row","bd-navbar"]),(0<(null===(n=b.brandName)||void 0===n?void 0:n.length)||0<(null===(a=b.brandLogoUrl)||void 0===a?void 0:a.length))&&(r=f.setBrandName(["navbar-brand","mb-0","h1"],b.brandName,b.brandLogoUrl),o.appendChild(r));var l=g.createElement("div");l.setAttribute("id","navbarNav"),l.classList.add("navbar-nav-scroll");var s=g.createElement("ul");return s.setAttribute("id",b.menuId),(t=s.classList).add.apply(t,["navbar-nav","bd-navbar-nav","flex-row"]),l.appendChild(s),o.appendChild(l),null!==(i=g.querySelector("body"))&&void 0!==i&&i.insertBefore(o,g.querySelector("#"+d)),s},setSection:function(e,t){var n,a,i=g.createElement("div");return i.setAttribute("id","section-"+t),i.classList.add("section"),e.active&&i.classList.add("active"),e.templateUrl?(n='<sp-include url="'+e.templateUrl+'"/>',i.innerHTML=n):e.templateId?(a=document.getElementById(e.templateId),i.innerHTML=a.innerHTML):e.template&&(i.innerHTML=e.template),f.setSectionClass(i),f.setSectionHeight(i),i},fetchView:function(){var e,t=o.querySelector("sp-include");t&&(e=t.getAttribute("url"),fetch(e).then(function(e){return e.text()}).then(function(e){o.querySelector(".sp-cell").innerHTML=e}))}},m={scrollPageUp:function(){var e="";0<n?e=u[--n]:b.autoScrolling&&(n=u.length-1,e=u[n]),""!==e?m.scrollToSection(e):v=!0},scrollPageRight:function(){var e="";0<n?e=u[--n]:b.autoScrolling&&(n=u.length-1,e=u[n]),""!==e?m.scrollToSection(e):v=!0},scrollPageDown:function(){var e="";n<u.length-1?e=u[++n]:b.autoScrolling&&(e=u[n=0]),""!==e?m.scrollToSection(e):v=!0},scrollPageLeft:function(){var e="";n<u.length-1?e=u[++n]:b.autoScrolling&&(e=u[n=0]),""!==e?m.scrollToSection(e):v=!0},scrollToSection:function(e){if(o=g.querySelector("[data-anchor='"+e+"']"),n=u.indexOf(e),o){switch(f.fetchView(),h.style.transition="all "+b.transitionSpeed+"ms "+b.easing+" 0s",l){case"horizontal":a=n*window.innerWidth,h.style.transform="translate3d(-"+a+"px, 0px, 0px)";break;case"vertical":a=n*window.innerHeight,0<o.offsetTop&&(a=a>o.offsetTop?a:o.offsetTop),h.style.transform="translate3d(0px, -"+a+"px, 0px)"}b.sameurl||(location.hash="#"+e)}}},w={keyDown:function(e){switch(e.which){case 37:v&&"horizontal"===b.navigation&&(v=!1,m.scrollPageRight());break;case 38:v&&"vertical"===b.navigation&&(v=!1,m.scrollPageUp());break;case 39:v&&"horizontal"===b.navigation&&(v=!1,m.scrollPageLeft());break;case 40:v&&"vertical"===b.navigation&&(v=!1,m.scrollPageDown())}},mouseWheel:function(e){s.push(c);var t=(e=e||window.event).wheelDelta||-e.deltaY||-e.detail,n=Math.max(-1,Math.min(1,t)),a=void 0!==e.wheelDeltaX||void 0!==e.deltaX,i=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!a;return b.scrollbar&&e.preventDefault(),clearTimeout(r),r=setTimeout(function(){var e;v&&c===s.length&&(v=!1,s=[],c=0,clearInterval(r),e=L.getAverage(s,10),L.getAverage(s,70)<=e&&i&&(n<0?"vertical"===b.navigation?m.scrollPageDown():m.scrollPageLeft():"vertical"===b.navigation?m.scrollPageUp():m.scrollPageRight()))},100),c=s.length,!1},windowResize:function(){var t;document.querySelectorAll(".section").forEach(function(e){f.setSectionHeight(e),f.setSectionHeight(e.querySelector(".sp-cell")),e.classList.contains("active")&&(t=e.getAttribute("data-anchor"))});var e=g.querySelector("#sp-hb-menu-bg");e&&(e.style.height=window.innerHeight+"px"),m.scrollToSection(t)},transitionStart:function(e){var t,n,a=g.querySelector(".section.active");null!=a&&a.classList.remove("active"),b.pageTransitionStart instanceof Function&&b.pageTransitionStart(a,o);var i=null==a?void 0:a.getAttribute("data-anchor"),r=null==o?void 0:o.getAttribute("data-anchor");null!==(t=g.querySelector(".nav-link[href='#"+i+"']"))&&void 0!==t&&t.classList.remove("active"),null!==(n=g.querySelector(".nav-link[href='#"+r+"']"))&&void 0!==n&&n.classList.add("active")},transitionEnd:function(e){null!=o&&o.classList.add("active"),v=!0,b.pageTransitionEnd instanceof Function&&b.pageTransitionEnd(o)},swipeUp:function(){v&&(v=!1,m.scrollPageDown())},swipeDown:function(){v&&(v=!1,m.scrollPageUp())},swipeLeft:function(){v&&(v=!1,m.scrollPageLeft())},swipeRight:function(){v&&(v=!1,m.scrollPageRight())},navigationClick:function(e){var t,n=e.target.getAttribute("data-href");m.scrollToSection(n),!1!==(null===(t=b.hamburger)||void 0===t?void 0:t.closeOnNavigation)&&w.onHamburgerMenuClick()},onHamburgerMenuClick:function(){g.querySelector(".sp-hb-menu").classList.toggle("sp-hb-change"),g.querySelector(".sp-hb-nav").classList.toggle("sp-hb-change"),g.querySelector(".sp-hb-menu-bg").classList.toggle("sp-hb-change-bg")}},L={initSections:function(){var e,t,c;f.setInitialStyle(),b.anchors&&(c=b.hamburger?f.setHamburgerMenu():f.setNavigationMenu()),b.sections.forEach(function(e,t){var n,a="page"+(t+1),i=f.setSection(e,t+1);i.setAttribute("data-anchor",a),"string"==typeof e.sectionClass&&(e.sectionClass=null===(n=e.sectionClass)||void 0===n?void 0:n.split(","));var r,o,l=e.sectionClass||[],s=f.getCellElement(l,e.verticalAlignMiddle);s.innerHTML=i.innerHTML,i.innerHTML="",i.appendChild(s),h.appendChild(i),u.push(a),b.anchors&&(r=["nav-link","text-nowrap"],e.anchorClass&&("string"==typeof e.anchorClass&&(e.anchorClass=e.anchorClass.split(",")),r=__spreadArrays(r,e.anchorClass)),o=f.setNavigationLink(r,e.anchor,a),c.appendChild(o)),e.backgroundColor&&f.setBackgroundColor(i,e.backgroundColor)}),"horizontal"===b.navigation.toLowerCase()&&(f.setSectionHorizontal(h),l="horizontal");var n,a,i=u[0];b.sameurl?null!==(n=document.querySelector(".section.active"))&&(i=n.getAttribute("data-anchor")):(a=null===(e=location.hash)||void 0===e?void 0:e.replace("#",""))&&(i=a),m.scrollToSection(i),null==o||o.getAttribute("data-anchor"),null!==(t=g.querySelector(".nav-link[href='#"+i+"']"))&&void 0!==t&&t.classList.add("active"),L.addEventListeners(h),L.addToPublicAPI()},addEventListeners:function(e){b.keyboardNavigation&&(document.removeEventListener("keydown",w.keyDown),document.addEventListener("keydown",w.keyDown)),document.removeEventListener("wheel",w.mouseWheel),document.addEventListener("wheel",w.mouseWheel),window.removeEventListener("resize",w.windowResize),window.addEventListener("resize",w.windowResize),e.removeEventListener("transitionstart",w.transitionStart),e.addEventListener("transitionstart",w.transitionStart),e.removeEventListener("transitionend",w.transitionEnd),e.addEventListener("transitionend",w.transitionEnd),"horizontal"==l?(document.addEventListener("swiped-left",w.swipeLeft),document.addEventListener("swiped-right",w.swipeRight)):(document.addEventListener("swiped-up",w.swipeUp),document.addEventListener("swiped-down",w.swipeDown))},getAverage:function(e,t){for(var n=0,a=e.slice(Math.max(e.length-t,1)),i=0;i<a.length;i++)n+=a[i];return Math.ceil(n/t)},addToPublicAPI:function(){t.api.gotoPage=m.scrollToSection,"horizontal"===l?(t.api.navigateToNextPage=m.scrollPageRight,t.api.navigateToPrevPage=m.scrollPageLeft):(t.api.navigateToNextPage=m.scrollPageDown,t.api.navigateToPrevPage=m.scrollPageUp),t.api.getMenuItems=function(){return g.querySelectorAll(".nav-item")},t.api.getActivePage=function(){var e=u[n];return g.querySelector("[data-anchor='"+e+"']")}}};L.initSections()};!function(e,a){"use strict";"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=a.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.CustomEvent.prototype=e.Event.prototype),a.addEventListener("touchstart",function(e){"true"!==e.target.getAttribute("data-swipe-ignore")&&(d=e.target,c=Date.now(),r=e.touches[0].clientX,o=e.touches[0].clientY,s=l=0)},!1),a.addEventListener("touchmove",function(e){var t,n;r&&o&&(t=e.touches[0].clientX,n=e.touches[0].clientY,l=r-t,s=o-n)},!1),a.addEventListener("touchend",function(e){var t,n,a,i;d===e.target&&(t=parseInt(d.getAttribute("data-swipe-threshold")||"20",10),n=parseInt(d.getAttribute("data-swipe-timeout")||"500",10),a=Date.now()-c,i="",Math.abs(l)>Math.abs(s)?Math.abs(l)>t&&a<n&&(i=0<l?"swiped-left":"swiped-right"):Math.abs(s)>t&&a<n&&(i=0<s?"swiped-up":"swiped-down"),""!==i&&d.dispatchEvent(new CustomEvent(i,{bubbles:!0,cancelable:!0})),c=o=r=null)},!1);var r=null,o=null,l=null,s=null,c=null,d=null}(window,document);